<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">



<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-gb"
      lang="en-gb">

  
    
    
    
    
    

  

  <head>

    <meta http-equiv="Content-Type"
          content="text/html;charset=utf-8" />

    
      <base href="http://134.36.65.53:8086/site/support/omero4/server/upgrade" /><!--[if lt IE 7]></base><![endif]-->
    

    <meta name="generator" content="Plone - http://plone.org" />

    <link rel="kss-base-url" href="http://134.36.65.53:8086/site/support/omero4/server/upgrade" />

  
  
    
      <script type="text/javascript"
              src="http://134.36.65.53:8086/site/portal_javascripts/Plone%20Default/jquery-cachekey4489.js">
      </script>
    
    
  

  
    
      <script type="text/javascript"
              src="http://134.36.65.53:8086/site/portal_javascripts/Plone%20Default/dropdown-cachekey9872.js">
      </script>
    
    
  

  
    
      <script type="text/javascript"
              src="http://134.36.65.53:8086/site/portal_javascripts/Plone%20Default/resourcekukit-cachekey5316.js">
      </script>
    
    
  

  
    
      <script type="text/javascript"
              src="http://134.36.65.53:8086/site/portal_javascripts/Plone%20Default/sarissa-cachekey6639.js">
      </script>
    
    
  

  
  
    
    
      <style type="text/css" media="screen"><!-- @import url(http://134.36.65.53:8086/site/portal_css/Plone%20Default/member.css); --></style>
    
    
  

  
    
    
      <style type="text/css" media="screen"><!-- @import url(http://134.36.65.53:8086/site/portal_css/Plone%20Default/base.css); --></style>
    
    
  

  
    
    
      <style type="text/css" media="screen"><!-- @import url(http://134.36.65.53:8086/site/portal_css/Plone%20Default/public.css); --></style>
    
    
  

  
    
    
      <style type="text/css" media="screen"><!-- @import url(http://134.36.65.53:8086/site/portal_css/Plone%20Default/columns.css); --></style>
    
    
  

  
    
    
      <style type="text/css" media="screen"><!-- @import url(http://134.36.65.53:8086/site/portal_css/Plone%20Default/authoring.css); --></style>
    
    
  

  
    
    
      <style type="text/css" media="screen"><!-- @import url(http://134.36.65.53:8086/site/portal_css/Plone%20Default/portlets.css); --></style>
    
    
  

  
    
    
      <style type="text/css" media="screen"><!-- @import url(http://134.36.65.53:8086/site/portal_css/Plone%20Default/controlpanel.css); --></style>
    
    
  

  
    
    
      <style type="text/css" media="print"><!-- @import url(http://134.36.65.53:8086/site/portal_css/Plone%20Default/print.css); --></style>
    
    
  

  
    
    
      <style type="text/css" media="screen"><!-- @import url(http://134.36.65.53:8086/site/portal_css/Plone%20Default/deprecated.css); --></style>
    
    
  

  
    
    
      <style type="text/css" media="screen"><!-- @import url(http://134.36.65.53:8086/site/portal_css/Plone%20Default/navtree.css); --></style>
    
    
  

  
    
    
      <style type="text/css" media="screen"><!-- @import url(http://134.36.65.53:8086/site/portal_css/Plone%20Default/invisibles.css); --></style>
    
    
  

  
    
    
      <style type="text/css" media="screen"><!-- @import url(http://134.36.65.53:8086/site/portal_css/Plone%20Default/forms.css); --></style>
    
    
  

  
    
    
      <style type="text/css" media="screen"><!-- @import url(http://134.36.65.53:8086/site/portal_css/Plone%20Default/ploneKss.css); --></style>
    
    
  

  
    
    
      <style type="text/css" media="screen"><!-- @import url(http://134.36.65.53:8086/site/portal_css/Plone%20Default/drop_down.css); --></style>
    
    
  

  
    
    
      <style type="text/css" media="all"><!-- @import url(http://134.36.65.53:8086/site/portal_css/Plone%20Default/ploneCustom.css); --></style>
    
    
  

  
  <link rel="kinetic-stylesheet" type="text/css"
        href="http://134.36.65.53:8086/site/portal_kss/Plone%20Default/at-cachekey4634.kss" />


<title>Upgrade &mdash; OME</title>


    <!-- Internet Explorer CSS Fixes -->
    <!--[if IE]>
        <style type="text/css" media="all">@import url(http://134.36.65.53:8086/site/IEFixes.css);</style>
    <![endif]-->

    
    <link rel="author"
          href="http://134.36.65.53:8086/site/author/jmoore"
          title="Author information" />



    <link rel="shortcut icon" type="image/x-icon"
          href="http://134.36.65.53:8086/site/favicon.ico" />



    <link rel="home" href="http://134.36.65.53:8086/site"
          title="Front page" />

    <link rel="contents"
          href="http://134.36.65.53:8086/site/sitemap"
          title="Site Map" />






    <link rel="search"
          href="http://134.36.65.53:8086/site/search_form"
          title="Search this site" />



    

    <!-- Disable IE6 image toolbar -->
    <meta http-equiv="imagetoolbar" content="no" />
    
    
    

    
    

    
    

    
    

  </head>

  <body class="section-support template-document_view"
        dir="ltr">
    <div id="visual-portal-wrapper">

      <div id="portal-top">
        <div id="portal-header">
<p class="hiddenStructure">
  <a accesskey="2"
     href="http://134.36.65.53:8086/site/support/omero4/server/upgrade#documentContent">Skip to content.</a> |

  <a accesskey="6"
     href="http://134.36.65.53:8086/site/support/omero4/server/upgrade#portlet-navigation-tree">Skip to navigation</a>
</p>

<ul id="portal-siteactions">

    <li id="siteaction-sitemap"><a
    href="http://134.36.65.53:8086/site/sitemap"
    accesskey="3" title="Site Map">Site Map</a></li>
    <li id="siteaction-accessibility"><a
    href="http://134.36.65.53:8086/site/accessibility-info"
    accesskey="0" title="Accessibility">Accessibility</a></li>
    <li id="siteaction-contact"><a
    href="http://134.36.65.53:8086/site/contact-info"
    accesskey="9" title="Contact">Contact</a></li>
    <li id="siteaction-plone_setup"><a
    href="http://134.36.65.53:8086/site/plone_control_panel"
    accesskey="" title="Site Setup">Site Setup</a></li>

</ul>

<a id="portal-logo" accesskey="1"
   href="http://134.36.65.53:8086/site">
    <img src="http://134.36.65.53:8086/site/logo.jpg" alt="" title="" height="73" width="450" /></a>


    <h5 class="hiddenStructure">Sections</h5>
    <div id="portal-globalnav">
        <div class="csshover">
            <ul>
               <li id="portaltab-index_html" class="plain">
  <a href="/site" accesskey="t" title="">Home</a>
</li>
<li id="portaltab-Products" class="plain">
  <a href="/site/products" accesskey="p" title="">Products</a>
	<ul>
        <li><a href="/site/products/omero" accesskey="o" title="">OMERO</a></li>
        <li><a href="/site/products/bio-formats" accesskey="b" title="">Bio-Formats</a></li>
        <li><a href="/site/products/visbio" accesskey="v" title="">VisBio</a></li>
        <li><a href="/site/products/legacy" accesskey="l" title="">Legacy</a></li>
	</ul>
</li>
<li id="portaltab-support" class="plain">
  <a href="/site/support" accesskey="s" title="">Support</a>
    <ul>
        <li><a href="/site/support/omero4" accesskey="o" title="">OMERO Platform</a></li>
        <li><a href="/site/support/bio-formats" accesskey="b" title="">Bio-Formats</a></li>
        <li><a href="/site/support/visbio" accesskey="v" title="">VisBio</a></li>
        <li><a href="/site/support/file-formats" accesskey="f" title="">OME Model &amp; File Formats</a></li>
        <li><a href="/site/support/legacy" accesskey="l" title="">Legacy</a></li>
        <li><a href="/site/support/faq" accesskey="q" title="">FAQ</a></li>
        <li><a href="/site/support/omero4/clients/support/omero4/getting-started/client-documentation" accesskey="u" title="">Documentation for Users</a></li>
        <li><a href="http://trac.openmicroscopy.org.uk/ome/" accesskey="d" title=""> Documentation for Developers</a></li>
    </ul>
</li>
<li id="portaltab-community" class="plain">
  <a href="/site/community" accesskey="c" title="">Community</a>
       <ul>
           <li><a href="/community" accesskey="f" title="">Forums</a></li>
           <li><a href="/site/community/mailing-lists" accesskey="l" title="">Mailing Lists</a><li>
           <li><a href="/site/news" accesskey="n" title="">News and Events</a></li>
           <li><a href="/site/community/ome-stories" accesskey="o" title="">OME Stories</a></li>
           <li><a href="/site/community/minutes" accesskey="m" title="">Minutes &amp; Meetings</a></li>
           <li><a href="/site/community/links" accesskey="u" title="">Developer Links</a></li>
           <li><a href="/site/community/merchandise" accesskey="s" title="">Merchandise </a><li>
           <li><a href="http://qa.openmicroscopy.org.uk/" accesskey="q" title="">Quality Assurance Tools </a><li>
           <li><a href="/site/community/jobs" accesskey="j" title="">Job Openings with OME </a><li>
       </ul>
</li>
<li id="portaltab-about" class="plain">
  <a href="/site/about/who-ome" accesskey="a" title="">About</a>
    <ul>
        <li><a href="/site/about/who-ome" accesskey="o" title="">Who is OME?</a></li>
        <li><a href="/site/about/what-omero" accesskey="a" title="">What is OMERO?</a></li>
        <li><a href="/site/about/partners" accesskey="p" title="">Partners</a></li>
        <li><a href="/site/about/contributers" accesskey="c" title="">Contributors</a></li>
        <li><a href="/site/about/development-teams" accesskey="t" title="">Development Teams</a></li>
        <li><a href="/site/about/publications" accesskey="u" title="">Publications</a></li>
        <li><a href="/site/about/press-reports" accesskey="r" title="">Press Reports</a></li>
        <li><a href="/site/about/roadmap" accesskey="r" title="">Roadmap</a></li>
        <li><a href="/site/about/project-history" accesskey="h" title="">History</a></li>        
    </ul>
</li>



               <li class="invisibleHeightKeeper">&nbsp;</li>
            </ul>
        </div>
    </div>


</div>

<div id="portal-personaltools-wrapper">

<h5 class="hiddenStructure">Personal tools</h5>

<ul id="portal-personaltools" class="visualInline">
   
       <li><a id="user-name"
              href="http://134.36.65.53:8086/site/dashboard"><img src="http://134.36.65.53:8086/site/user.gif" alt="" title="User" height="16" width="16" />
            <span class="visualCaseSensitive">admin</span></a></li>
         <li><a href="/site/team">team</a></li>
   

   

  <!-- only show personal tools when you are already logged in --> 
  
 
    
        <li>
            <a href="http://134.36.65.53:8086/site/logout">Log out</a>
        </li>
    
  <!-- end of already logged in conditional -->

    <!-- add a dummy list item to preserver the space on the page even when no options are displayed -->
    <li><br /></li>

</ul>
</div>


    


<div id="portal-breadcrumbs">

    <span id="breadcrumbs-you-are-here">You
are here:</span>
    <a href="http://134.36.65.53:8086/site">Home</a>
    <span class="breadcrumbSeparator">
        &rarr;
        
    </span>
    <span dir="ltr">
        
            <a href="http://134.36.65.53:8086/site/support">Support</a>
            <span class="breadcrumbSeparator">
                &rarr;
                
            </span>
            
         
    </span>
    <span dir="ltr">
        
            <a href="http://134.36.65.53:8086/site/support/omero4">OMERO Platform v4</a>
            <span class="breadcrumbSeparator">
                &rarr;
                
            </span>
            
         
    </span>
    <span dir="ltr">
        
            <a href="http://134.36.65.53:8086/site/support/omero4/server">OMERO.server</a>
            <span class="breadcrumbSeparator">
                &rarr;
                
            </span>
            
         
    </span>
    <span dir="ltr">
        
            
            
            <span>Upgrade</span>
         
    </span>

</div>

      </div>

      <div class="visualClear" id="clear-space-before-wrapper-table"><!-- --></div>

      <table id="portal-columns">
        <tbody>
          <tr>
            
            <td id="portal-column-one">
              <div class="visualPadding">
                
                  
<div id="portletwrapper-706c6f6e652e6c656674636f6c756d6e0a636f6e746578740a2f736974650a6e617669676174696f6e"
     class="portletWrapper kssattr-portlethash-706c6f6e652e6c656674636f6c756d6e0a636f6e746578740a2f736974650a6e617669676174696f6e">
<dl class="portlet portletNavigationTree">

    <dt class="portletHeader">
        <span class="portletTopLeft"></span>
        <a href="http://134.36.65.53:8086/site/support/sitemap"
           class="tile">Navigation</a>
       
        <span class="portletTopRight"></span>
    </dt>

    <dd class="portletItem lastItem">
        <ul class="navTree navTreeLevel0">
            
            



<li class="navTreeItem visualNoMarker navTreeItemInPath navTreeFolderish">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4"
           class="state-published navTreeItemInPath navTreeFolderish"
           title="Our software platform for visualising, managing, and annotating biological image data.">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/folder_icon.gif" alt="Folder" />
            <span>OMERO Platform v4</span>
        </a>
        
    </div>

    <ul class="navTree navTreeLevel1">  
        



<li class="navTreeItem visualNoMarker navTreeFolderish">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/getting-started"
           class="state-published navTreeFolderish"
           title=" ">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/folder_icon.gif" alt="Folder" />
            <span>Getting Started</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="/site/products/feature-list"
           class="state-published" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/link_icon.gif" alt="Link" />
            <span>Features</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker navTreeFolderish">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/screenshots"
           class="state-published navTreeFolderish"
           title="An collection of screenshots showing some of the features of our software.">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/folder_icon.gif" alt="Folder" />
            <span>Screenshots</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/downloads"
           class="state-published"
           title="This page list the downloads for the latest versions of the OMERO.server and clients. 
">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>Downloads</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker navTreeFolderish">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/clients"
           class="state-published navTreeFolderish" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/folder_icon.gif" alt="Folder" />
            <span>OMERO.clients</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker navTreeItemInPath navTreeFolderish">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/server"
           class="state-published navTreeItemInPath navTreeFolderish"
           title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/folder_icon.gif" alt="Folder" />
            <span>OMERO.server</span>
        </a>
        
    </div>

    <ul class="navTree navTreeLevel2">  
        



<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/server/installation"
           class="state-published" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>Install - Unix</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/server/install-windows"
           class="state-published" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>Install - Windows</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/server/install_web"
           class="state-published" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>OMERO.web deployment</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker navTreeCurrentNode">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/server/upgrade"
           class="state-published navTreeCurrentItem navTreeCurrentNode"
           title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>Upgrade</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/server/security"
           class="state-published" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>Security</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/server/install-ldap"
           class="state-published" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>LDAP</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/server/postgresql"
           class="state-published" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>OMERO and PostgreSQL</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/server/backup-and-restore"
           class="state-published" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>Maintenance, Backup and Restore</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/server/binary-repository"
           class="state-published" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>Binary Repository</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/server/fs"
           class="state-published" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>FS</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/server/permissions"
           class="state-published" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>Permissions</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/server/omeromovie"
           class="state-published"
           title="A short decription on how to create movies from OMERO.">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>OmeroMovie</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/server/advanced-configuration"
           class="state-published"
           title="Describes configuration options that not everyone will need, but may be useful for optimizing, customizing, or monitoring your server.">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>Advanced Configuration</span>
        </a>
        
    </div>

    
    
</li>




    </ul>
    
</li>


<li class="navTreeItem visualNoMarker navTreeFolderish">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/analysis"
           class="state-published navTreeFolderish" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/folder_icon.gif" alt="Folder" />
            <span>OMERO.analysis</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/scripts"
           class="state-published" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>OMERO.scripts</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/troubleshooting"
           class="state-published" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>Troubleshooting</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/known-limitations"
           class="state-published" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>Known Limitations</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/future-development"
           class="state-published"
           title="Future development plans for OMERO">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>Future Development</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/system-requirements"
           class="state-published" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>System Requirements</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4/secvuln"
           class="state-published"
           title="The following page details all security vulnerabilities in OMERO software.
">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>Security Vulnerabilities</span>
        </a>
        
    </div>

    
    
</li>




    </ul>
    
</li>


<li class="navTreeItem visualNoMarker navTreeFolderish">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/bio-formats"
           class="state-published navTreeFolderish"
           title="The standalone library for reading and writing microscopy file formats.">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/folder_icon.gif" alt="Folder" />
            <span>Bio-Formats</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/imagej"
           class="state-private" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>ImageJ</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker navTreeFolderish">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/visbio"
           class="state-published navTreeFolderish"
           title="An open-source biological visualization tool.">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/folder_icon.gif" alt="Folder" />
            <span>VisBio</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker navTreeFolderish">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/file-formats"
           class="state-published navTreeFolderish"
           title="The OME Model and file formats: OME-TIFF and OME-XML.">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/folder_icon.gif" alt="Folder" />
            <span>OME Model &amp; Formats</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker navTreeFolderish">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/training"
           class="state-published navTreeFolderish" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/folder_icon.gif" alt="Folder" />
            <span>Training Material</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker navTreeFolderish">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/faq"
           class="state-published navTreeFolderish" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/faqfolder_icon.gif" alt="label_type_faq" />
            <span>FAQ</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker navTreeFolderish">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/freemind-test"
           class="state-private navTreeFolderish" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/folder_icon.gif" alt="Folder" />
            <span>Freemind Test</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/faq-text-question-source"
           class="state-private" title="">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/document_icon.gif" alt="Page" />
            <span>FAQ Text Question Source</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker navTreeFolderish">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/legacy"
           class="state-published navTreeFolderish"
           title="Support documents for software no longer in active development.">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/folder_icon.gif" alt="Folder" />
            <span>Legacy</span>
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker navTreeFolderish">

    

      <div>

        <a href="http://134.36.65.53:8086/site/support/omero4-old-4.3-to-remove"
           class="state-private navTreeFolderish"
           title="Our software platform for visualising, managing, and annotating biological image data.">
            <img width="16" height="16" src="http://134.36.65.53:8086/site/folder_icon.gif" alt="Folder" />
            <span>OMERO Platform v4 - 4.3 to remove</span>
        </a>
        
    </div>

    
    
</li>




        </ul>
        <span class="portletBottomLeft"></span>
        <span class="portletBottomRight"></span>
    </dd>
</dl>

</div>


<div class="managePortletsLink">
  <a title="View portlet management screen"
     href="http://134.36.65.53:8086/site/support/omero4/server/upgrade/@@manage-portlets">Manage portlets</a>
</div>

                
                &nbsp;
              </div>
            </td>
            

            
            <td id="portal-column-content">

              
                <div class="documentEditable">

                  

    

        <h5 class="hiddenStructure">Views</h5>

        <ul class="contentViews" id="content-views">

            
              <li id="contentview-view" class="selected">
                <a href="http://134.36.65.53:8086/site/support/omero4/server/upgrade">View</a>
              </li>
            
            
              <li id="contentview-edit" class="plain">
                <a href="http://134.36.65.53:8086/site/support/omero4/server/upgrade/edit">Edit</a>
              </li>
            
            
              <li id="contentview-local_roles" class="plain">
                <a href="http://134.36.65.53:8086/site/support/omero4/server/upgrade/@@sharing">Sharing</a>
              </li>
            
            
              <li id="contentview-history" class="plain">
                <a href="http://134.36.65.53:8086/site/support/omero4/server/upgrade/versions_history_form">History</a>
              </li>
            
            
              <li id="contentview-redirection" class="plain">
                <a href="http://134.36.65.53:8086/site/support/omero4/server/upgrade/@@manage-aliases">Aliases</a>
              </li>
            

        </ul>
        
    


<div class="contentActions">

    

        

        

        <ul id="contentActionMenus">

    <li>

        <dl class="actionMenu"
            id="plone-contentmenu-workflow">
          <dt class="actionMenuHeader label-state-published">
            <a href="http://134.36.65.53:8086/site/support/omero4/server/upgrade/content_status_history"
               title="Change the state of this item">
               
                  
                  <span>State:</span>
                  <span class="state-published">Published</span>
                  <span class="arrowDownAlternative">&#9660;</span>
               
            </a>
          </dt>
          <dd class="actionMenuContent">
            <ul>
                
                  <li>
                    <a href="http://134.36.65.53:8086/site/support/omero4/server/upgrade/content_status_modify?workflow_action=reject"
                       class="kssIgnore"
                       id="workflow-transition-reject"
                       title="Sending the item back will return the item to the original author instead of publishing it. You should preferably include a reason for why it was not published.
">
                        
                        
                        <span class="subMenuTitle">Send back</span>
                    </a>
                    
                  </li>
                
                
                  <li>
                    <a href="http://134.36.65.53:8086/site/support/omero4/server/upgrade/content_status_modify?workflow_action=retract"
                       class="kssIgnore"
                       id="workflow-transition-retract"
                       title="If you submitted the item by mistake or want to perform additional edits, this will take it back.
">
                        
                        
                        <span class="subMenuTitle">Retract</span>
                    </a>
                    
                  </li>
                
                
                  <li class="actionSeparator">
                    <a href="http://134.36.65.53:8086/site/support/omero4/server/upgrade/content_status_history"
                       class="kssIgnore" id="advanced"
                       title="">
                        
                        
                        <span class="subMenuTitle">Advanced...</span>
                    </a>
                    
                  </li>
                
            </ul>
          </dd>
        </dl>

    </li>
    <li>

        <dl class="actionMenu"
            id="plone-contentmenu-actions">
          <dt class="actionMenuHeader label-">
            <a href="http://134.36.65.53:8086/site/support/omero4/server/folder_contents"
               title="Actions for the current content item">
               
                  
                  <span>Actions</span>
                  
                  <span class="arrowDownAlternative">&#9660;</span>
               
            </a>
          </dt>
          <dd class="actionMenuContent">
            <ul>
                
                  <li>
                    <a href="http://134.36.65.53:8086/site/support/omero4/server/upgrade/object_cut"
                       class="actionicon-object_buttons-cut"
                       id="cut" title="">
                        
                        <img width="16" height="16" alt=""
                             src="http://134.36.65.53:8086/site/cut_icon.gif"
                             title="" />
                        <span class="subMenuTitle">Cut</span>
                    </a>
                    
                  </li>
                
                
                  <li>
                    <a href="http://134.36.65.53:8086/site/support/omero4/server/upgrade/object_copy"
                       class="actionicon-object_buttons-copy"
                       id="copy" title="">
                        
                        <img width="16" height="16" alt=""
                             src="http://134.36.65.53:8086/site/copy_icon.gif"
                             title="" />
                        <span class="subMenuTitle">Copy</span>
                    </a>
                    
                  </li>
                
                
                  <li>
                    <a href="http://134.36.65.53:8086/site/support/omero4/server/upgrade/delete_confirmation"
                       class="actionicon-object_buttons-delete"
                       id="delete" title="">
                        
                        <img width="16" height="16" alt=""
                             src="http://134.36.65.53:8086/site/delete_icon.gif"
                             title="" />
                        <span class="subMenuTitle">Delete</span>
                    </a>
                    
                  </li>
                
                
                  <li>
                    <a href="http://134.36.65.53:8086/site/support/omero4/server/upgrade/object_rename"
                       class="actionicon-object_buttons-rename"
                       id="rename" title="">
                        
                        
                        <span class="subMenuTitle">Rename</span>
                    </a>
                    
                  </li>
                
                
                  <li>
                    <a href="http://134.36.65.53:8086/site/support/omero4/server/upgrade/@@content-checkout"
                       class="actionicon-object_buttons-iterate_checkout"
                       id="iterate_checkout" title="">
                        
                        <img width="16" height="16" alt=""
                             src="http://134.36.65.53:8086/site/++resource++checkout.png"
                             title="" />
                        <span class="subMenuTitle">Check out</span>
                    </a>
                    
                  </li>
                
                
                  <li>
                    <a href="http://134.36.65.53:8086/site/support/omero4/server/upgrade/@@content-cancel-checkout"
                       class="actionicon-object_buttons-iterate_checkout_cancel"
                       id="iterate_checkout_cancel" title="">
                        
                        <img width="16" height="16" alt=""
                             src="http://134.36.65.53:8086/site/++resource++cancel-checkout.png"
                             title="" />
                        <span class="subMenuTitle">Cancel check-out</span>
                    </a>
                    
                  </li>
                
            </ul>
          </dd>
        </dl>

    </li>

</ul>


    

</div>


                  <div id="region-content" class="documentContent">

                    <span id="contentTopLeft"></span>
                    <span id="contentTopRight"></span>
                    
                    <a name="documentContent"></a>

                    

    <dl class="portalMessage info" id="kssPortalMessage" style="display:none">
        <dt>Info</dt>
        <dd></dd>
    </dl>


                    
                    <div id="viewlet-above-content"><div id="plone-lock-status">
  
</div>
</div>

                    
                    
                    <div id="content">
                      
                      
    

        

        <h1 class="documentFirstHeading"> 
            
        <span class=" kssattr-atfieldname-title kssattr-templateId-widgets/string kssattr-macro-string-field-view inlineEditable"
              id="parent-fieldname-title">
            Upgrade
        </span>
    
        </h1>

        <div class="documentByLine" id="plone-document-byline">
  

  
    <span class="documentAuthor">
      by
      <a href="http://134.36.65.53:8086/site/author/jmoore">jmoore</a>

    </span>
  

  <span class="documentModified">
    &mdash;
    <span>
      last modified
    </span>
    16 July 2012 - 09:32 AM
  </span>

  

  

  

</div>




        <p class="documentDescription">
            
        <span class=" kssattr-atfieldname-description kssattr-templateId-widgets/textarea kssattr-macro-textarea-field-view inlineEditable"
              id="parent-fieldname-description">
            
        </span>
    
        </p>

        
<dl id="document-toc" class="portlet toc"
    style="display: none">
  <dt class="portletHeader">Contents</dt>
  <dd class="portletItem">
  </dd>
</dl>


        

        <div class="request" />


        

        <div>
           
        <div class=" kssattr-atfieldname-text kssattr-templateId-widgets/rich kssattr-macro-rich-field-view inlineEditable"
             id="parent-fieldname-text">
            <p>The OME team is committed to providing frequent, project-wide upgrades both with bug fixes and new functionality. We try to make the schedule for these releases as public as possible. You may want to take a look at the <a href="http://trac.openmicroscopy.org.uk/omero/roadmap">server</a> and <a href="http://trac.openmicroscopy.org.uk/shoola/roadmap">client</a> roadmaps for exactly what will go into a release. We always inform our <a href="/site/community">mailing lists</a> of the development status. Finally, all the products check themselves with the <a href="http://trac.openmicroscopy.org.uk/omero/wiki/OmeroRegistry">OMERO.registry</a> for update notifications on startup. If you wish to disable this functionality you should do so now as outlined on the <a href="http://trac.openmicroscopy.org.uk/omero/wiki/UpgradeCheck">UpgradeCheck</a> page.
</p>
<p>If you encounter errors during a OMERO upgrade, database upgrade, etc. you should retain as much log information as possible and notify the OMERO.server team via the mailing lists available on the <a href="/site/community">community</a> page. More experienced users may wish to examine the <a href="http://trac.openmicroscopy.org.uk/omero/wiki/DbUpgrade">DbUpgrade</a> page for technical information about OMERO.server database upgrades and how to troubleshoot errors themselves.
</p>

<h2>General HOWTOs</h2>

<h3>Performing a database backup</h3>
<p>The first thing to do before <strong>any</strong> upgrade activity is to backup your database.
</p>
<pre><code># pg_dump -h &lt;database_host&gt; -U &lt;database_username&gt; -Fc -f &lt;dump_filename&gt; &lt;db_name&gt;
$ pg_dump -h localhost -U db_user -Fc -f before_upgrade.db.dump omero_database
</code></pre>
<h3>Optimizing an upgraded database (optional)</h3>
<p>After you have run the upgrade script related to your version (see below), you may want to optimize your database which can both save disk space and speed up access times.
</p>
<pre><code># psql -h &lt;database_host&gt; -U &lt;database_username&gt; &lt;database_name&gt; -c "REINDEX DATABASE &lt;database_name&gt; FORCE;"
$ psql -h localhost -U db_user omero_database -c "REINDEX DATABASE omero_database FORCE;"

# psql -h &lt;database_host&gt; -U &lt;database_username&gt; &lt;database_name&gt; -c "VACUUM FULL VERBOSE ANALYZE;"
$ psql -h localhost -U db_user omero_database -c "VACUUM FULL VERBOSE ANALYZE;"
</code></pre>
<h3>Restoring a database backup if something goes wrong</h3>
<p>If the upgraded database or the new server version do not work for you, or you otherwise need to rollback to a previous database backup, it's best to create a new database and configure your server to use it:
</p>
<pre><code>$ createdb -h localhost -U postgres -O db_user omero_from_backup
$ pg_restore -Fc -d omero_from_backup beforE_upgrade.db.dump
$ bin/omero config omero.db.name omero_from_backup
</code></pre>
<h3>Ensuring your OMERO.web media directories point to the right location when using FastCGI</h3>
<p>When upgrading, if you have kept the extracted OMERO.server directory you will need to keep the media directories in sync with the correct version of OMERO.web. Your options are either to replace the entire stanza that you pasted into your Apache or nginx configuration by re-running <code>bin/omero web config &lt;webserver&gt;</code> or by just modifying the <code>/appmedia</code> and <code>/media</code> alias locations.
</p>

<h2>Per version upgrade instructions</h2>

<h3>4.3.x to 4.4.0</h3>
<blockquote><p><strong>Note:</strong> You should <em>always</em> backup your database before performing an upgrade as outlined above.
</p>
</blockquote><p>Your OMERO 4.3 configuration is stored using <code>config.xml</code> in the <code>etc/grid</code> directory under your OMERO.server directory. If you have not made any file changes within your OMERO.server distribution directory you are safe to follow the following upgrade procedure:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero web stop
$ bin/omero admin stop
$ cd ..
$ mv omero_dist omero_dist_old
$ unzip OMERO.server-4.4.0-ice33-b3033.zip
$ cp omero_dist_old/etc/grid/config.xml OMERO.server-4.4.0-ice33-b3033/etc/grid
</code></pre>
<h4>Changes to OMERO.web URLs</h4>
<p>In order to ease deployment and avoid errors for IIS (Windows production deployment) and Apache (notably CentOS/RHEL 5 and 6) OMERO.web now defaults to being "mounted on <code>omero</code>. The new OMERO.web web server stanzas have redirects in them with the notable exception of IIS. Depending on your web server configuration you may need to visit your OMERO.web instance at <a href="http://localhost/omero/">http://your_host/omero/</a>.
</p>

<h4>Update your database</h4>
<p>You <strong>must</strong> use the same username and password you have defined during <a href="installation">installation</a>. The 4.4 upgrade script should execute very quickly. Please ensure you have performed a database backup as outlined under "First steps".
</p>
<pre><code>$ psql -h localhost -U omero omero &lt; sql/psql/OMERO4.4__0/OMERO4.3__0.sql
Password for user omero:
...
...
</code></pre><p>Following a successful db upgrade, you can start the 4.4 server. 
</p>
<pre><code>$ cd ~/OMERO.server-4.4.0-ice33-b3033/
$ bin/omero admin start
</code></pre><ul>
 <li><p>If anything goes wrong, please send the output of bin/omero admin diagnostics to ome-users@lists.openmicroscopy.org.uk.
</p>

 </li>

 <li><p>Restart OMERO.web with the following command:
</p>
<pre><code>$ cd ~/OMERO.server-4.4.0-ice33-b3033
$ bin/omero web start
</code></pre>
 </li>
</ul>

<h4>Merge script changes (New!)</h4>
<p>If any new official scripts have been added under lib/scripts or if you've modified any of the existing ones, then you will need to save your modifications. Doing this, however, is not as simple as copying the directory over since the core developers will have also improved these scripts. In order to facilitate saving your work, we've turned the scripts into a git submodule which can be found at <a href="http://github.com/ome/scripts">http://github.com/ome/scripts</a>
</p>
<p>If you would like help merging the two repositories, please contact the OME developers.
</p>

<h3>4.3.x to 4.3.4</h3>
<blockquote><p><strong>Note:</strong> You should <em>always</em> backup your database before performing an upgrade as outlined under the steps for upgrading from 3.2.x to 4.0.0 (found at the bottom of this page).
</p>
</blockquote><ul>
 <li><p>Stop your old server, and replace it with the new binaries:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero web stop
$ bin/omero admin stop
$ cd ..
$ mv omero_dist omero_dist_old
$ tar jxvf omero-Beta4.3.4.tar.bz2
</code></pre>
 </li>

 <li><p>Your server configuration is stored in "config.xml" under "etc/grid". If you would prefer not to reconfigure your server, copy that file over:
</p>
<pre><code>$ cd ~/omero_dist
$ mv ../omero_dist_old/etc/grid/config.xml etc/grid
</code></pre>
 </li>

 <li><p>If you have modified any of the other etc/grid files like default.xml or template.xml you will need to make those modifications in the new files. A typical example is an increased memory setting for the Blitz process in etc/grid/templates.xml.
</p>

 </li>

 <li><p>Now, you should be ready to start the OMERO server:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero admin start
</code></pre>
 </li>

 <li><p>If anything goes wrong, please send the output of bin/omero admin diagnostics to ome-users@lists.openmicroscopy.org.uk.
</p>

 </li>

 <li><p>Restart OMERO.web by the following command:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero web syncmedia
$ bin/omero web start
</code></pre>
 </li>
</ul>

<h3>4.3.x to 4.3.3</h3>
<blockquote><p><strong>Note:</strong> You should <em>always</em> backup your database before performing an upgrade as outlined under the steps for upgrading from 3.2.x to 4.0.0 (found at the bottom of this page).
</p>
<p><strong>LDAP users Read This: Password Provider Change </strong> In this minor release, the LDAP plugin changed. You can manually choose the previous version of the plugin for backwards compatibility. See the section <a href="install-ldap"><em>Legacy Password Providers</em></a>
</p>
</blockquote><ul>
 <li><p>Stop your old server, and replace it with the new binaries:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero web stop
$ bin/omero admin stop
$ cd ..
$ mv omero_dist omero_dist_old
$ tar jxvf omero-Beta4.3.3.tar.bz2
</code></pre>
 </li>

 <li><p>Your server configuration is stored in "config.xml" under "etc/grid". If you would prefer not to reconfigure your server, copy that file over:
</p>
<pre><code>$ cd ~/omero_dist
$ mv ../omero_dist_old/etc/grid/config.xml etc/grid
</code></pre>
 </li>

 <li><p>If you have modified any of the other etc/grid files like default.xml or template.xml you will need to make those modifications in the new files. A typical example is an increased memory setting for the Blitz process in etc/grid/templates.xml.
</p>

 </li>

 <li><p>Now, you should be ready to start the OMERO server:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero admin start
</code></pre>
 </li>

 <li><p>If anything goes wrong, please send the output of bin/omero admin diagnostics to ome-users@lists.openmicroscopy.org.uk.
</p>

 </li>

 <li><p>Restart OMERO.web by the following command:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero web syncmedia
$ bin/omero web start
</code></pre>
 </li>
</ul>

<h3>4.3.x to 4.3.2</h3>
<blockquote><p><strong>Note:</strong> You should <em>always</em> backup your database before performing an upgrade as outlined under the steps for upgrading from 3.2.x to 4.0.0 (found at the bottom of this page).
</p>
<p><strong>LDAP users Read This: Password Provider Change </strong> In this minor release, the LDAP plugin changed. You can manually choose the previous version of the plugin for backwards compatibility. See the section <a href="install-ldap"><em>Legacy Password Providers</em></a>
</p>
</blockquote><ul>
 <li><p>Stop your old server, and replace it with the new binaries:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero web stop
$ bin/omero admin stop
$ cd ..
$ mv omero_dist omero_dist_old
$ tar jxvf omero-Beta4.3.2.tar.bz2
</code></pre>
 </li>

 <li><p>Your server configuration is stored in "config.xml" under "etc/grid". If you would prefer not to reconfigure your server, copy that file over:
</p>
<pre><code>$ cd ~/omero_dist
$ mv ../omero_dist_old/etc/grid/config.xml etc/grid
</code></pre>
 </li>

 <li><p>If you have modified any of the other etc/grid files like default.xml or template.xml you will need to make those modifications in the new files. A typical example is an increased memory setting for the Blitz process in etc/grid/templates.xml.
</p>

 </li>

 <li><p>Now, you should be ready to start the OMERO server:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero admin start
</code></pre>
 </li>

 <li><p>If anything goes wrong, please send the output of bin/omero admin diagnostics to ome-users@lists.openmicroscopy.org.uk.
</p>

 </li>

 <li><p>Restart OMERO.web by the following command:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero web syncmedia
$ bin/omero web start
</code></pre>
 </li>
</ul>

<h3>4.3.x to 4.3.1</h3>
<blockquote><p><strong>Note:</strong> You should <em>always</em> backup your database before performing an upgrade as outlined under the steps for upgrading from 3.2.x to 4.0.0 (found at the bottom of this page).
</p>
</blockquote><ul>
 <li><p>Stop your old server, and replace it with the new binaries:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero web stop
$ bin/omero admin stop
$ cd ..
$ mv omero_dist omero_dist_old
$ tar jxvf omero-Beta4.3.1.tar.bz2
</code></pre>
 </li>

 <li><p>Your server configuration is stored in "config.xml" under "etc/grid". If you would prefer not to reconfigure your server, copy that file over:
</p>
<pre><code>$ cd ~/omero_dist
$ mv ../omero_dist_old/etc/grid/config.xml etc/grid
</code></pre>
 </li>

 <li><p>If you have modified any of the other etc/grid files like default.xml or template.xml you will need to make those modifications in the new files. A typical example is an increased memory setting for the Blitz process in etc/grid/templates.xml.
</p>

 </li>

 <li><p>Now, you should be ready to start the OMERO server:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero admin start
</code></pre>
 </li>

 <li><p>If anything goes wrong, please send the output of bin/omero admin diagnostics to ome-users@lists.openmicroscopy.org.uk.
</p>

 </li>

 <li><p>Restart OMERO.web with the following command:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero web syncmedia
$ bin/omero web start
</code></pre>
 </li>
</ul>

<h3>4.2.x to 4.3.0</h3>
<blockquote><p><strong>Note:</strong> You should <em>always</em> backup your database before performing an upgrade as outlined under the steps for upgrading from 3.2.x to 4.0.0 (found at the bottom of this page).
</p>
</blockquote><p>From OMERO Beta 4.2.0, configuration is stored using <code>config.xml</code> in the <code>etc/grid</code> directory under your OMERO.server directory. If you have not made any file changes within your OMERO.server distribution directory you are safe to follow the following upgrade procedure:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero web stop
$ bin/omero admin stop
$ cd ..
$ mv omero_dist omero_dist_old
$ tar jxvf omero-Beta4.3.0.tar.bz2
$ cp omero_dist_old/etc/grid/config.xml omero_dist/etc/grid
</code></pre>
<h4>Update your database</h4>
<p>You <strong>must</strong> use the same username and password you have defined during <a href="installation">installation</a>. Once begun, the upgrade can take <em>significant</em> time on large databases (up to 1 or 2 hours), please be patient and ensure you have performed a database backup as outlined under "First steps".
</p>
<pre><code>$ psql -h localhost -U omero omero &lt; sql/psql/OMERO4.3__0/OMERO4.2__0.sql
Password for user omero:
...
...
</code></pre><blockquote><p><strong>Warning:</strong>: Unlike previous database upgrades, the move to <code>OMERO4.3__0</code> may require manual intervention. If you encounter errors such as:
</p>
</blockquote><pre><code>ALTER TABLE
Time: 9.105 ms
ERROR:  check constraint "logicalchannel_check" is violated by some row
ERROR:  current transaction is aborted, commands ignored until end of transaction block
ERROR:  current transaction is aborted, commands ignored until end of transaction block
</code></pre><p>You have some metadata that will need to be fixed by running:
</p>
<pre><code>$ psql -h localhost -U omero omero &lt; sql/psql/OMERO4.3__0/omero-4.2-data-fix.sql
Password for user omero:
...
...
</code></pre><p>Following a successful db upgrade, you can start the 4.3 server. 
</p>
<pre><code>$ cd ~/omero_dist/
$ bin/omero admin start
</code></pre><ul>
 <li><p>If anything goes wrong, please send the output of bin/omero admin diagnostics to ome-users@lists.openmicroscopy.org.uk.
</p>

 </li>

 <li><p>Restart OMERO.web with the following command:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero web syncmedia
$ bin/omero web start
</code></pre>
 </li>
</ul>

<h3>4.2.x patch releases</h3>
<blockquote><p><strong>Note:</strong> You should <em>always</em> backup your database before performing an upgrade as outlined under the steps for upgrading from 3.2.x to 4.0.0 (found at the bottom of this page).
</p>
</blockquote><ul>
 <li><p>Stop your old server, and replace it with the new binaries:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero web stop
$ bin/omero admin stop
$ cd ..
$ mv omero_dist omero_dist_old
$ tar jxvf omero-Beta4.2.1.tar.bz2
</code></pre>
 </li>

 <li><p>Your server configuration is stored in "config.xml" under "etc/grid". If you would prefer not to reconfigure your server, copy that file over:
</p>
<pre><code>$ cd ~/omero_dist
$ mv ../omero_dist_old/etc/grid/config.xml etc/grid
</code></pre>
 </li>

 <li><p>If you have modified any of the other etc/grid files like default.xml or template.xml you will need to make those modifications in the new files. A typical example is an increased memory setting for the Blitz process in etc/grid/templates.xml.
</p>

 </li>

 <li><p>Now, you should be ready to start the OMERO server:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero admin start
</code></pre>
 </li>

 <li><p>If anything goes wrong, please send the output of bin/omero admin diagnostics to ome-users@lists.openmicroscopy.org.uk.
</p>

 </li>

 <li><p>Configuration for <strong><em>OMERO.web</em></strong> changed significantly in 4.2.1 to ease many of the deployment issues on both Unix and Windows platforms. Therefore, it is not necessarily, or possible to copy your web settings.py, but rather you should see the <a href="install_web">"Web on Production"</a> page for more information on setting up your web server. This can safely be done after the OMERO server is running. 
</p>
<blockquote><p>If you have already upgraded to 4.2.1 you should only restart OMERO.web by the following command:
</p>
</blockquote><pre><code>$ cd ~/omero_dist
$ bin/omero web syncmedia
$ bin/omero web start
</code></pre>
 </li>
</ul>

<h3>4.1.x to 4.2.1+</h3>
<blockquote><p><strong>Note:</strong> You should <em>always</em> backup your database before performing an upgrade as outlined under the steps for upgrading from 3.2.x to 4.0.0 (found at the bottom of this page).
</p>
</blockquote><p>From OMERO Beta 4.0.0, configuration is stored using Java properties so no configuration file copies need happen. If you have not made any file changes within your OMERO.server distribution directory you are safe to follow the following upgrade procedure:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero admin stop
$ cd ..
$ mv omero_dist omero_dist_old
$ tar jxvf omero-Beta4.2.0.tar.bz2
$ cd omero_dist
</code></pre>
<h4>Update your database</h4>
<p>You <strong>must</strong> use the same username and password you have defined during <a href="installation">installation</a>. Once begun, the upgrade can take <em>significant</em> time on large databases (up to 2 or 3 hours), please be patient and ensure you have performed a database backup as outlined under "First steps".
</p>
<blockquote><p><strong>Warning:</strong>: Unlike previous database upgrades, the move to <code>OMERO4.2__0</code> may require manual intervention. After some initial processing, a report is run which checks for possible permission issues. <a href="db-upgrade-41-to-42">More Info Here</a>. If it finds any, an error message will be printed:
</p>
</blockquote><pre><code>ERROR ON omero_41_check:
Your database has data which is incompatible with 4.2 and will need to be manually updated
Contact ome-users@lists.openmicroscopy.org.uk for help adjusting your data.
</code></pre><p>If this happens, please send the full report to the OME team for assistance correcting the warnings. The steps to run the script are slightly different from previous upgrades as well. It is necessary to be in the same directory as omero-4.1-permissions-report.sql, and adding more flags to the command line will help detect errors sooner:
</p>
<pre><code>$ cd ~/omero_dist/sql/psql/OMERO4.2__0                      
$ psql -v ON_ERROR_STOP=1 --pset pager=off -h localhost -U omero -f OMERO4.1__0.sql  omero 
Password for user omero:
...
...
</code></pre><p>To mail the output of the command to the team, you may want to pipe the output to a file:
</p>
<pre><code>$ psql ... -f OMERO4.1__0.sql omero &gt; upgrade.log
</code></pre><p>Following a successful db upgrade, you can start the 4.2 server. 
</p>
<pre><code>$ cd ~/omero_dist/
$ bin/omero admin start
</code></pre>
<h4>OMERO.web upgrade</h4>
<p>Configuration for <strong><em>OMERO.web</em></strong> changed significantly in 4.2.1 to ease many of the deployment issues on both Unix and Windows platforms. Therefore, it is not necessarily, or possible to copy your web settings.py, but rather you should see the <a href="install_web">"Web on Production"</a> page for more information on setting up your web server. This can safely be done after the OMERO server is running.
</p>

<h4>Additional (Optional) Services</h4>
<p>In addition to a database upgrade you may also want to consider if any of the additional services and optional installs would be of use to you. 
</p>
<ul>
 <li><p><strong>Python Imaging Library</strong> (for OMERO.web and Figure Export functionality only) 
   Packages should be available for your distribution from <a href="http://www.pythonware.com/products/pil/">here</a>
</p>

 </li>

 <li><p><strong>Matplot Lib</strong>  (for OMERO.web only) 
   Packages should be available for your distribution from <a href="http://matplotlib.sourceforge.net/">here</a>
</p>

 </li>

 <li><p><strong>NumPy Lib</strong> (for scripting services) This package may already have been installed as a dependency of Matplot Lib, above, but if not you will need to install it to use scripting services. NumPy is available from <a href="http://numpy.scipy.org/">here</a>
</p>

 </li>

 <li><p><strong>OMERO.tables</strong> can be installed by following the <a href="http://trac.openmicroscopy.org.uk/omero/wiki/OmeroTables">OmeroTables</a> install guide.
</p>

 </li>

 <li><p><strong>Security</strong> By default, OMERO clients only need to connect to two TCP ports for communication with your OMERO.server: 4063 (unsecured) and 4064 (ssl). For more details please see <a href="security">here</a>. 
</p>

 </li>
</ul>

<h3>4.0.x to 4.1.x</h3>
<blockquote><p><strong>Note:</strong> You should <em>always</em> backup your database before performing an upgrade as outlined under the steps for upgrading from 3.2.x to 4.0.0 (found at the bottom of this page).
</p>
</blockquote><p>From OMERO Beta 4.0.0, configuration is stored using Java properties so no configuration file copies need happen. If you have not made any file changes within your OMERO.server distribution directory you are safe to follow the following upgrade procedure:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero admin stop
$ cd ..
$ mv omero_dist omero_dist_old
$ tar jxvf omero-Beta4.1.0.tar.bz2
$ cd omero_dist
$ bin/omero admin start
</code></pre><ul>
 <li><p>4.1.0 to 4.1.1 or newer:
</p>
<p>If you have configured OMERO.web for a production environment, you should copy the configuration files from your old distribution directory:
</p>
<pre><code>$ cp ~/omero_dist_old/lib/python/omeroweb/settings.py ~/omero_dist/lib/python/omeroweb
</code></pre>
 </li>

 <li><p>4.0.x to 4.1.0:
</p>
<p>If you wish to configure OMERO.web you should follow the instruction on <a href="./installation#section-6">Install page</a>.
</p>

 </li>
</ul>
<blockquote><p><strong>Note:</strong> It is <strong>not recommended</strong> to use any older settings.py files with the 4.1.x. 
</p>
</blockquote><p>You should also change any environment variables or directory references that may point to the wrong location.
</p>

<h4>Update your database</h4>
<p>You <strong>must</strong> use the same username and password you have defined during <a href="installation">installation</a>. Once begun, the upgrade can take <em>significant</em> time on large databases (up to 2 or 3 hours), please be patient and ensure you have performed a database backup as outlined under "First steps".
</p>
<pre><code>$ cd ~/omero-Beta4.1.0
$ psql -h localhost -U omero omero &lt; sql/psql/OMERO4.1__0/OMERO4__0.sql
Password for user omero:
...
...
</code></pre>
<h3>4.0.x patch releases</h3>
<blockquote><p><strong>Note:</strong> You should <em>always</em> backup your database before performing an upgrade as outlined under the steps for upgrading from 3.2.x to 4.0.0 (found at the bottom of this page).
</p>
</blockquote><p>From OMERO Beta 4.0.0, configuration is stored using Java properties so no configuration file copies need happen. If you have not made any file changes within your OMERO.server distribution directory you are safe to follow the following upgrade procedure:
</p>
<pre><code>$ cd ~/omero_dist
$ bin/omero admin stop
$ cd ..
$ mv omero_dist omero_dist_old
$ tar jxvf omero-Beta4.0.3.tar.bz2
$ cd omero_dist
$ bin/omero admin start
</code></pre><p>If you have configured OMERO.web for a production environment, you should copy the configuration files from your old distribution directory:
</p>
<pre><code>$ cp ~/omero_dist_old/lib/python/omeroweb/settings.py \
     ~/omero_dist/lib/python/omeroweb
</code></pre><p>You should also change any environment variables or directory references that may point to the wrong location.
</p>

<h3>3.2.x to 4.0.0</h3>
<p><em></em>If your server is anything other than a Beta 3.2 series, you will first need to follow all required upgrades on the <a href="http://trac.openmicroscopy.org.uk/omero/wiki/OmeroUpgrade">OMERO Trac</a> before proceeding with these instructions.<em></em>
</p>
<p>Unlike previous upgrades, migrating from the 3.2.x series to 4.0.0 is essentially a full re-install but re-using your existing database and data files. Nevertheless, all the instructions under <a href="installation">install</a> should be followed before beginning with these instructions. In fact, starting with a bare database may be advisable to test out your installation. Also, be sure to put aside a <strong>significant</strong> amount of time for upgrading larger databases.
</p>
<p><strong>Steps:</strong>
</p>
<ol>
 <li>
     Perform a database backup
 </li>

 <li>
     Update your database from <code>OMERO3A__11</code> to <code>OMERO4__0</code>
 </li>

 <li>
     Configure the Beta4.0.0 server to use your existing database and data files.
 </li>
</ol>

<h4>Step 1: Database backup</h4>
<pre><code># pg_dump -h &lt;database_host&gt; -U &lt;database_username&gt; -Fc -f &lt;dump_filename&gt; &lt;db_name&gt;
$ pg_dump -h localhost -U omero -Fc -f before_upgrade.db.dump omero3
</code></pre>
<h4>Step 2: Update your database</h4>
<p>You <strong>must</strong> use the same username and password you have defined during <a href="installation">installation</a>. Once begun, the upgrade can take <em>significant</em> time on large databases (up to 2 or 3 hours), please be patient and ensure you have performed a database backup as above.
</p>
<pre><code>$ cd ~/omero-Beta4.0.0
$ psql -h localhost -U omero omero3 &lt; sql/psql/OMERO4__0/OMERO3A__11.sql
Password for user omero:
...
...
</code></pre>
<h4>Step 3: Configuring server</h4>
<pre><code>$ cd ~/omero-Beta4.0.0
$ bin/omero config set omero.data.dir /OMERO
$ bin/omero config set omero.db.name omero3
</code></pre><p>If the <code>omero.db.user</code> and <code>omero.db.pass</code> for the <code>omero3</code> database are different then those for the database you created during <a href="installation">installation</a>, then those should be configured as well.
</p>
            
        </div>
    
        </div>

        <div class="relatedItems">
    
        
            
        
    
</div>
    
        <div class="visualClear"><!-- --></div>
<div class="documentActions">
    

    <h5 class="hiddenStructure">Document Actions</h5>

    <ul>
    
        <li id="document-action-print">
            <a href="javascript:this.print();" title="">Print this</a>
        </li>
    

    </ul>
    

    

</div>

<div class="reviewHistory" id="review-history">
    
      <dl id="history" class="collapsible inline collapsedOnLoad">
        <dt class="collapsibleHeader">History</dt>
        <dd class="collapsibleContent">

        <table class="listing nosort"
               summary="Review History">

          <tr>
            <th>Action</th>
            <th>Performed by</th>
            <th>Date and Time</th>
            <th>Comment</th>
          </tr>

          
            <tr class="odd">
              <td class="state-published">Publish</td>

              <td>
                <a href="http://134.36.65.53:8086/site/author/ajpatterson">ajpatterson</a>
                
              </td>

              <td>
                13 July 2012 - 03:16 PM
                
              </td>

              <td>
                

                <span>
                  No comments.
                </span>
              </td>
            </tr>
          
          
            <tr class="even">
              <td class="state-pending">Submit for publication</td>

              <td>
                <a href="http://134.36.65.53:8086/site/author/ajpatterson">ajpatterson</a>
                
              </td>

              <td>
                10 July 2012 - 05:01 PM
                
              </td>

              <td>
                

                <span>
                  No comments.
                </span>
              </td>
            </tr>
          
          
            <tr class="odd">
              <td class="state-private">Send back</td>

              <td>
                <a href="http://134.36.65.53:8086/site/author/ajpatterson">ajpatterson</a>
                
              </td>

              <td>
                10 July 2012 - 05:01 PM
                
              </td>

              <td>
                

                <span>
                  No comments.
                </span>
              </td>
            </tr>
          
          
            <tr class="even">
              <td class="state-published">Publish</td>

              <td>
                <a href="http://134.36.65.53:8086/site/author/ajpatterson">ajpatterson</a>
                
              </td>

              <td>
                10 July 2012 - 05:00 PM
                
              </td>

              <td>
                

                <span>
                  No comments.
                </span>
              </td>
            </tr>
          
          
            <tr class="odd">
              <td class="state-published">Publish</td>

              <td>
                <a href="http://134.36.65.53:8086/site/author/ajpatterson">ajpatterson</a>
                
              </td>

              <td>
                14 September 2011 - 09:28 PM
                
              </td>

              <td>
                

                <span>
                  No comments.
                </span>
              </td>
            </tr>
          
          
            <tr class="even">
              <td class="state-published">Publish</td>

              <td>
                <a href="http://134.36.65.53:8086/site/author/ajpatterson">ajpatterson</a>
                
              </td>

              <td>
                27 March 2009 - 05:12 PM
                
              </td>

              <td>
                

                <span>
                  No comments.
                </span>
              </td>
            </tr>
          
        </table>

        </dd>
      </dl>
    
</div>


    

                    </div>
                    

                    
                    
                      
    




                    
                    

                    <span id="contentBottomLeft"></span>
                    <span id="contentBottomRight"></span>

                  </div>

                </div>

              
            </td>
            

            
            
            
          </tr>
        </tbody>
      </table>
      

      <div class="visualClear" id="clear-space-before-footer"><!-- --></div>
      
      

      

        <div id="portal-footer">

<p>
    
	    <acronym title="Copyright">&copy;</acronym>
	    2000-2012
	    University of Dundee & Open Microscopy Environment. All Rights Reserved. <a href="/site/support/faq/general/what-is-the-copyright-information-for-ome-material">&hellip;</a>
    
</p>
<p>
    OME source code is available under the <a href="/site/about/licensing">GNU General public license</a> or through commercial license from <a href="/site/about/development-teams/glencoe-software">Glencoe Software<a>
</a></a></p>
</div>

<div id="portal-colophon">
      

      

      <div class="colophonWrapper">
      <!-- only show colophon when you are already logged in -->
      
      <ul>
        <li>
          <a href="http://plone.org"
             title="This site was built using Plone CMS, the Open Source Content Management System. Click for more information.">
            Powered by Plone</a>
        </li>
        <li>
          <a href="http://validator.w3.org/check/referer"
             title="This site is valid XHTML.">
            Valid XHTML</a>
        </li>
        <li>
          <a href="http://jigsaw.w3.org/css-validator/check/referer&amp;warning=no&amp;profile=css3&amp;usermedium=all"
             title="This site was built with valid CSS.">
            Valid CSS</a>
        </li>
        <li>
          <a href="http://www.section508.gov"
             title="This site conforms to the US Government Section 508 Accessibility Guidelines.">
            Section 508</a>
        </li>
        <li>
          <a href="http://www.w3.org/WAI/WCAG1AA-Conformance"
             title="This site conforms to the W3C-WAI Web Content Accessibility Guidelines.">
            WCAG</a>
        </li>
      </ul>
       <!-- end of already logged in conditional -->
      </div>

    </div>



      

      <div class="visualClear"><!-- --></div>
    </div>
<div id="kss-spinner"><img alt=""
                           src="http://134.36.65.53:8086/site/spinner.gif" /></div>
</body>
</html>
